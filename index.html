<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PRISMA | Research Lab</title>
  <meta name="description" content="Prisma AI Research Lab - Publications and Model Weights" />
  <link rel="icon" href="./assets/favicon.ico">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Courier New', 'Monaco', monospace;
      font-size: 14px;
      line-height: 1.6;
      background: #000;
      color: #ccc;
      padding: 20px;
    }
    .container { max-width: 900px; margin: 0 auto; }
    .ascii-header {
      text-align: center;
      margin: 20px 0 30px;
      white-space: pre;
      font-size: 11px;
      line-height: 1.2;
      color: #e87c1b;
    }
    .subtitle { text-align: center; margin: -10px 0 30px; font-size: 12px; opacity: 0.6; }
    .tabs { display: flex; gap: 0; margin-bottom: 30px; border: 1px solid #e87c1b;}
    .tabs button {
      flex: 1; background: none; border: none; border-right: 1px solid #e87c1b;
      color: #ccc; padding: 12px; cursor: pointer;
      font-family: inherit; font-size: 12px; transition: all 0.2s;
    }
    .tabs button:last-child { border-right: none; }
    .tabs button.active { background: #e87c1b; color: #000; }
    .tabs button:hover:not(.active) { background: rgba(232, 124, 27, 0.1); }
    .search-bar {
      width: 100%; padding: 10px 12px; background: rgba(255,255,255,0.05);
      border: 1px solid #444; color: #ccc; font-family: inherit; font-size: 13px;
      margin-bottom: 20px;
    }
    .filters { display: flex; gap: 8px; margin-bottom: 30px; flex-wrap: wrap; }
    .filter-btn {
      background: none; border: 1px solid #444; color: #888;
      padding: 6px 12px; cursor: pointer; font-family: inherit; font-size: 11px;
      transition: all 0.2s;
    }
    .filter-btn.active { border-color: #e87c1b; color: #e87c1b; }
    .filter-btn:hover { border-color: #e87c1b; }
    .grid { display: flex; flex-direction: column; gap: 20px; }
    .card {
      border: 1px solid #444; padding: 20px; background: rgba(255,255,255,0.02);
      transition: border-color 0.2s;
    }
    .card:hover { border-color: #e87c1b; }
    .card-title { font-size: 15px; font-weight: bold; color: #e87c1b; margin-bottom: 8px; }
    .card-meta { font-size: 11px; opacity: 0.6; margin-bottom: 12px; }
    .card-content { font-size: 13px; line-height: 1.7; margin-bottom: 15px; color: #aaa; }
    .tags { display: flex; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
    .tag { font-size: 10px; padding: 3px 8px; border: 1px solid #555; color: #888; }
    .model-info {
      display: grid; grid-template-columns: repeat(4,1fr); gap: 10px;
      margin: 15px 0; padding: 12px; border: 1px solid #333; font-size: 11px;
    }
    .model-info-item { display: flex; flex-direction: column; gap: 3px; }
    .model-info-label { opacity: 0.5; font-size: 9px; text-transform: uppercase; }
    .model-info-value { color: #e87c1b; word-break: break-word; }
    .btn {
      display: inline-block; padding: 8px 16px; border: 1px solid #e87c1b; color: #e87c1b;
      text-decoration: none; font-size: 12px; text-align: center;
      transition: all 0.2s; background: none; cursor: pointer;
    }
    .btn:hover { background: #e87c1b; color: #000; }
    .section { display: none; }
    .section.active { display: block; }
    .empty { text-align: center; padding: 40px; opacity: 0.5; font-size: 13px; }
    .footer {
      text-align: center; margin-top: 60px; padding-top: 20px;
      border-top: 1px solid #333; font-size: 11px; opacity: 0.5;
    }
    .home-btn-wrapper {
      text-align: center; margin-top: 30px; padding-top: 20px;
    }
    .ascii-divider {
      text-align: center; margin: 30px 0; opacity: 0.3; font-size: 10px;
    }
    @media (max-width: 768px) {
      body { padding: 10px; }
      .ascii-header { font-size: 8px; }
      .model-info { grid-template-columns: repeat(2,1fr);}
    }
  </style>
</head>
<body>
  <div class="container">
    <pre class="ascii-header">
██████╗ ██████╗ ██╗███████╗███╗   ███╗ █████╗
██╔══██╗██╔══██╗██║██╔════╝████╗ ████║██╔══██╗
██████╔╝██████╔╝██║███████╗██╔████╔██║███████║
██╔═══╝ ██╔══██╗██║╚════██║██║╚██╔╝██║██╔══██║
██║     ██║  ██║██║███████║██║ ╚═╝ ██║██║  ██║
╚═╝     ╚═╝  ╚═╝╚═╝╚══════╝╚═╝     ╚═╝╚═╝  ╚═╝</pre>
    <div class="subtitle">AI Research Lab • Girish G Hegde</div>

    <div class="tabs">
      <button class="active" data-tab="blogs">[ Blogs ]</button>
      <button data-tab="models">[ Models ]</button>
    </div>
    <section id="blogs" class="section active">
      <input type="text" class="search-bar" id="searchBlogs" placeholder="search...">
      <div class="filters" id="blogFilters"></div>
      <div class="grid" id="blogsGrid"></div>
    </section>
    <section id="models" class="section">
      <input type="text" class="search-bar" id="searchModels" placeholder="search...">
      <div class="filters" id="modelFilters"></div>
      <div class="grid" id="modelsGrid"></div>
    </section>
    <div class="ascii-divider">──────────────────────────────────────────────</div>
    <div class="home-btn-wrapper">
      <a href="https://girishgh7.github.io/personal-Website/" class="btn">← Back to Home</a>
    </div>
    <div class="footer">© 2025 Prisma Research Lab</div>
  </div>
  <script>
    let blogsData = [];
    let modelsData = [];
    let filters = { blogs: new Set(), models: new Set() };

    window.addEventListener('load', async () => {
      await loadBlogsJson();
      await loadModelsJson();
      setupTabs();
    });

    async function loadBlogsJson() {
      try {
        const res = await fetch('content.json');
        if (res.ok) {
          const data = await res.json();
          blogsData = Array.isArray(data.blogs) ? data.blogs : [];
          displayBlogs(blogsData);
          setupBlogFilters();
        } else {
          showEmpty('blogsGrid', 'Failed to load blogs.');
        }
      } catch (err) {
        showEmpty('blogsGrid', 'Failed to load blogs.');
      }
    }
    async function loadModelsJson() {
      try {
        const res = await fetch('data.json');
        if (res.ok) {
          const data = await res.json();
          modelsData = Array.isArray(data.models) ? data.models : [];
          displayModels(modelsData);
          setupModelFilters();
        } else {
          showEmpty('modelsGrid', 'Failed to load models.');
        }
      } catch (err) {
        showEmpty('modelsGrid', 'Failed to load models.');
      }
    }
    function showEmpty(gridId, msg) {
      document.getElementById(gridId).innerHTML = '<div class="empty">' + msg + '</div>';
    }
    function displayBlogs(blogs) {
      const grid = document.getElementById('blogsGrid');
      if (blogs.length === 0) return showEmpty('blogsGrid', 'No blogs found.');
      const cards = blogs.map(b => {
        const title = b.headline_en;
        const excerpt = (b.excerpt || 'No description').substring(0,200) + '...';
        const tagHtml = b.tags && b.tags.length
          ? `<div class="tags">${b.tags.map(t => `<span class="tag">${t}</span>`).join('')}</div>` : '';
        return `<div class="card">
          <div class="card-title">${title}</div>
          <div class="card-meta">${b.author} • ${b.date}</div>
          <div class="card-content">${excerpt}</div>
          ${tagHtml}
          <a href="${b.path}" class="btn" target="_blank">↗ Read Blog</a>
        </div>`;
      });
      grid.innerHTML = cards.join('');
    }
    function setupBlogFilters() {
      const tags = [...new Set(blogsData.flatMap(b => b.tags || []))];
      const cont = document.getElementById('blogFilters');
      if (!tags.length) return cont.innerHTML = '';
      cont.innerHTML = tags.map(t => `<button class="filter-btn" data-f="${t}">${t}</button>`).join('');
      cont.querySelectorAll('.filter-btn').forEach(btn => {
        btn.onclick = () => {
          const f = btn.getAttribute('data-f');
          if (filters.blogs.has(f)) {
            filters.blogs.delete(f); btn.classList.remove('active');
          } else { filters.blogs.add(f); btn.classList.add('active'); }
          filterBlogs();
        };
      });
    }
    function filterBlogs() {
      const search = document.getElementById('searchBlogs').value.toLowerCase();
      const filtered = blogsData.filter(b => {
        const title = b.headline_en;
        const matchSearch = title.toLowerCase().includes(search) || b.author.toLowerCase().includes(search);
        const matchFilter = !filters.blogs.size || (b.tags && b.tags.some(t => filters.blogs.has(t)));
        return matchSearch && matchFilter;
      });
      displayBlogs(filtered);
    }
    document.getElementById('searchBlogs').oninput = filterBlogs;

    function displayModels(models) {
      const grid = document.getElementById('modelsGrid');
      if (models.length === 0) return showEmpty('modelsGrid', 'No models found.');
      const cards = models.map(m => {
        return `<div class="card">
          <div class="card-title">${m.name_en}</div>
          <div class="card-meta">${m.version} • ${m.date}</div>
          <div class="card-content">${m.description_en}</div>
          <div class="model-info">
            <div class="model-info-item"><span class="model-info-label">Framework</span><span class="model-info-value">${m.framework || 'N/A'}</span></div>
            <div class="model-info-item"><span class="model-info-label">Type</span><span class="model-info-value">${m.fileType || 'N/A'}</span></div>
            <div class="model-info-item"><span class="model-info-label">Size</span><span class="model-info-value">${m.fileSize || 'N/A'}</span></div>
            <div class="model-info-item"><span class="model-info-label">Arch</span><span class="model-info-value">${m.architecture || 'N/A'}</span></div>
          </div>
          <a href="${m.downloadUrl}" class="btn" download>↓ Download</a>
        </div>`;
      });
      grid.innerHTML = cards.join('');
    }
    function setupModelFilters() {
      const fws = [...new Set(modelsData.map(m => m.framework).filter(f => f))];
      const cont = document.getElementById('modelFilters');
      if (!fws.length) return cont.innerHTML = '';
      cont.innerHTML = fws.map(f => `<button class="filter-btn" data-f="${f}">${f}</button>`).join('');
      cont.querySelectorAll('.filter-btn').forEach(btn => {
        btn.onclick = () => {
          const f = btn.getAttribute('data-f');
          if (filters.models.has(f)) {
            filters.models.delete(f); btn.classList.remove('active');
          } else { filters.models.add(f); btn.classList.add('active'); }
          filterModels();
        };
      });
    }
    function filterModels() {
      const search = document.getElementById('searchModels').value.toLowerCase();
      const filtered = modelsData.filter(m => {
        const name = m.name_en;
        const matchSearch = name.toLowerCase().includes(search) || (m.architecture || '').toLowerCase().includes(search);
        const matchFilter = !filters.models.size || filters.models.has(m.framework);
        return matchSearch && matchFilter;
      });
      displayModels(filtered);
    }
    document.getElementById('searchModels').oninput = filterModels;

    function setupTabs() {
      document.querySelectorAll('.tabs button').forEach(btn => {
        btn.onclick = () => {
          const tab = btn.getAttribute('data-tab');
          document.querySelectorAll('.tabs button').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
          document.getElementById(tab).classList.add('active');
        };
      });
    }
  </script>
</body>
</html>
